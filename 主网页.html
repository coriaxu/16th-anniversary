<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è‡´Minnieï¼šæˆ‘ä»¬çš„æ—¶å…‰æ¡£æ¡ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Noto+Serif+SC:wght@300;400;600&family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=ZCOOL+XiaoWei&display=swap"
        rel="stylesheet" media="print" onload="this.media='all'">
    <noscript>
        <link
            href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&family=Noto+Serif+SC:wght@300;400;600&family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=ZCOOL+XiaoWei&display=swap"
            rel="stylesheet">
    </noscript>

    <style>
        /* ============ ä¿®å¤è¡¥ä¸ï¼šå¼ºåˆ¶éšè—å¼¹çª— ============ */
        #modal {
            display: none;
            /* é»˜è®¤å¿…é¡»éšè— */
            position: fixed;
            z-index: 9999;
            /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
        }

        /* æ¿€æ´»çŠ¶æ€ */
        #modal.modal-active {
            display: flex !important;
            /* å¼ºåˆ¶æ˜¾ç¤º */
        }

        :root {
            /* ============ é»˜è®¤ä¸»é¢˜ï¼šå¹²æ¯ç«ç‘° (Dried Rose) ============ */
            --bg-paper: #FDFBF7;
            --primary-color: #B05D67;
            --accent-color: #C96E78;
            --light-color: #E8D3D5;
            --ink-grey: #333333;
            --text-gold: #8B6914;
            --text-gold-light: #A67C52;
            --glass-border: rgba(255, 255, 255, 0.6);

            --duration-fast: 0.2s;
            --duration-normal: 0.3s;
            --duration-slow: 1.2s;
        }

        /* çºªå¿µæ—¥è‡ªåŠ¨å˜è‰²é€»è¾‘ (Mode A) */
        body.theme-mist {
            --bg-paper: #F6F8F7;
            --primary-color: #5F8D84;
            --accent-color: #7DAEA5;
            --light-color: #DDEBE8;
            --text-gold: #947C5C;
            --text-gold-light: #B09A7A;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--bg-paper);
            color: var(--ink-grey);
            font-family: 'Noto Serif SC', 'Songti SC', serif;
            line-height: 1.8;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            transition: background-color 1s ease, color 1s ease;
        }

        /* å­—ä½“ */
        .rounded-num-font {
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        .num-font {
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
            letter-spacing: -0.05em;
        }

        .eng-label {
            font-family: 'Cinzel', serif;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .eng-title {
            font-family: 'Playfair Display', serif;
        }

        .text-gold-enhanced {
            color: var(--text-gold);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
        }

        /* åŠ¨ç”» */
        @media (prefers-reduced-motion: no-preference) {
            .animate-fade-up {
                opacity: 0;
                transform: translateY(40px);
                transition: opacity 0.8s ease, transform 0.8s ease;
            }

            .animate-fade-up.visible {
                opacity: 1;
                transform: translateY(0);
            }

            .animate-pulse-1s {
                animation: pulseOneSecond 1s infinite ease-in-out;
                transform-origin: center bottom;
            }

            .animate-float {
                animation: floatBlob 10s infinite alternate;
            }

            .heart-beat-num {
                animation: heartScale 0.8s infinite ease-in-out;
                display: inline-block;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .animate-fade-up {
                opacity: 1;
                transform: none;
            }

            .animate-pulse-1s {
                animation: none;
            }
        }

        @keyframes pulseOneSecond {
            0% {
                transform: scale(1);
            }

            15% {
                transform: scale(1.02);
            }

            30% {
                transform: scale(1);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes floatBlob {
            0% {
                transform: translate(0, 0) scale(1);
            }

            100% {
                transform: translate(30px, -30px) scale(1.1);
            }
        }

        @keyframes heartScale {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
                color: var(--accent-color);
            }
        }

        .entrance-heart {
            background: var(--primary-color);
        }

        .entrance-heart::before,
        .entrance-heart::after {
            background: var(--primary-color);
        }

        .entrance-text {
            color: var(--primary-color);
        }

        .aurora-blob {
            position: absolute;
            background: radial-gradient(circle, var(--light-color) 0%, transparent 70%);
            filter: blur(50px);
            opacity: 0.6;
            z-index: 0;
        }

        .text-primary {
            color: var(--primary-color);
        }

        .bg-primary {
            background-color: var(--primary-color);
        }

        .border-primary {
            border-color: var(--primary-color);
        }

        /* ç»„ä»¶æ ·å¼ */
        .crystal-glass {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.05), inset 0 0 20px rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
            transition: transform var(--duration-normal) ease;
        }

        .crystal-glass:active {
            transform: scale(0.98);
        }

        .jewelry-frame-inner {
            position: relative;
            width: 260px;
            height: 420px;
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 60px -10px rgba(0, 0, 0, 0.15);
            border: 1px solid white;
            z-index: 10;
            transition: transform 0.5s ease;
            overflow: hidden;
        }

        .jewelry-frame-glass-overlay {
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 1px solid var(--glass-border);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(1px);
            z-index: 20;
            pointer-events: none;
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3);
        }

        .amber-card {
            background: linear-gradient(145deg, #FFFDF8 0%, #FFF8E7 50%, #FAEBD7 100%);
            border: 1px solid rgba(184, 146, 85, 0.3);
            border-radius: 8px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        body.theme-mist .amber-card {
            background: linear-gradient(145deg, #F9FCFB 0%, #F0F7F5 100%);
            border-color: rgba(95, 141, 132, 0.2);
        }

        .amber-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: translateX(-100%) translateY(-100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) translateY(100%) rotate(45deg);
            }
        }

        .card-story {
            background: #fff;
            border: 1px solid #f2efeb;
            position: relative;
            padding: 2.5rem 2rem;
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.05);
            transition: transform var(--duration-normal) ease;
        }

        .card-story::before {
            content: '';
            position: absolute;
            left: 0;
            top: 20px;
            bottom: 20px;
            width: 4px;
            background: var(--primary-color);
            border-radius: 0 4px 4px 0;
        }

        .watermark-year {
            position: absolute;
            top: -1.5rem;
            right: -0.5rem;
            font-size: 5rem;
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            color: var(--primary-color);
            opacity: 0.06;
            line-height: 1;
            pointer-events: none;
            z-index: 0;
        }

        .pull-quote-mark {
            position: absolute;
            top: -1rem;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            line-height: 1;
            color: var(--primary-color);
            opacity: 0.15;
            pointer-events: none;
        }

        .music-toast {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 10px 20px;
            border-radius: 20px;
            border: 1px solid var(--light-color);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 90;
            pointer-events: none;
        }

        .music-toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        .music-toast-icon {
            width: 8px;
            height: 8px;
            background: var(--primary-color);
            border-radius: 50%;
            animation: heartScale 1s infinite;
        }

        .cta-btn::after {
            background: var(--text-gold);
        }

        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--text-gold));
            z-index: 1001;
            transform-origin: left;
            transform: scaleX(0);
        }

        .date-stamp {
            position: absolute;
            top: 1rem;
            right: 1rem;
            padding: 0.5rem 1rem;
            border: 2px solid var(--primary-color);
            border-radius: 4px;
            transform: rotate(3deg);
            opacity: 0.6;
        }

        .music-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: white;
            border: 1px solid var(--primary-color);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 100;
            transition: all var(--duration-normal) ease;
        }

        .music-toggle:hover {
            transform: scale(1.1);
        }

        .music-toggle.playing {
            background: var(--primary-color);
            border-color: var(--primary-color);
        }

        .music-toggle.playing svg {
            color: white;
        }

        .entrance-overlay {
            position: fixed;
            inset: 0;
            background: var(--bg-paper);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease, visibility 0.8s ease;
            padding: 2rem;
        }

        .entrance-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* å…¥åœºé¡µå¿ƒå½¢å¾½ç«  - å›¾ç‰‡ç‰ˆ */
        .entrance-heart-img {
            width: 160px;
            height: auto;
            object-fit: contain;
            filter: drop-shadow(0 0 20px rgba(176, 29, 29, 0.4));
            animation: heartPulse 3s ease-in-out infinite;
            margin-bottom: 2rem;
        }

        @keyframes heartPulse {

            0%,
            100% {
                transform: scale(1);
                filter: drop-shadow(0 0 25px rgba(176, 29, 29, 0.4));
            }

            50% {
                transform: scale(1.05);
                filter: drop-shadow(0 0 35px rgba(176, 29, 29, 0.6));
            }
        }

        /* å…¥åœºé¡µæ–‡æ¡ˆ - è¿˜åŸç‰ˆ */
        .entrance-title {
            font-family: 'Noto Serif SC', 'Songti SC', serif;
            font-size: 2rem;
            font-weight: 600;
            color: #5D4037;
            /* æ·±å’–å•¡è‰² */
            text-align: center;
            line-height: 1.4;
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
            text-shadow: none;
        }

        .entrance-subtitle {
            font-family: 'Noto Serif SC', serif;
            font-weight: 400;
            font-size: 1.2rem;
            color: #8D6E63;
            /* æµ…å’–å•¡è‰² */
            text-align: center;
            margin-bottom: 5rem;
            letter-spacing: 0.1em;
            opacity: 1;
        }

        @media (min-width: 768px) {
            .entrance-title {
                font-size: 2.8rem;
                margin-bottom: 1rem;
            }

            .entrance-subtitle {
                font-size: 1.5rem;
                letter-spacing: 0.15em;
            }

            .entrance-heart-img {
                width: 200px;
                margin-bottom: 3rem;
            }
        }

        /* å…¥åœºæŒ‰é’® - æ·±çº¢è‰²è¿˜åŸç‰ˆ */
        .entrance-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 14px 48px;
            background: linear-gradient(180deg, #A6343A 0%, #8B1E25 100%);
            border: 2px solid #C5A065;
            /* é‡‘è‰²è¾¹æ¡† */
            border-radius: 999px;
            font-family: 'Noto Serif SC', serif;
            font-weight: 500;
            font-size: 1.1rem;
            letter-spacing: 0.1em;
            color: #FFF8E7;
            /* æµ…é‡‘è‰²æ–‡å­— */
            cursor: pointer;
            box-shadow:
                0 4px 15px rgba(139, 30, 37, 0.4),
                inset 0 1px 2px rgba(255, 255, 255, 0.2),
                inset 0 -1px 2px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .entrance-btn:hover {
            transform: translateY(-2px);
            background: linear-gradient(180deg, #B5444A 0%, #9C272E 100%);
            box-shadow: 0 8px 25px rgba(139, 30, 37, 0.5);
            border-color: #D4AF37;
        }

        .entrance-btn:active {
            transform: scale(0.98);
        }

        .entrance-btn::after {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            border-radius: 999px;
            border: 1px solid var(--primary-color);
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .entrance-btn:focus-visible::after {
            opacity: 0.5;
        }

        .entrance-btn svg {
            display: none;
        }

        /* è®¾è®¡å›¾ä¸­æ²¡æœ‰å›¾æ ‡ */
        .card-partner {
            background: linear-gradient(to bottom right, #fff, #fdfbf7);
            border: 1px solid rgba(184, 146, 85, 0.2);
            padding: 2.5rem 2rem;
            position: relative;
            box-shadow: 0 15px 40px -10px rgba(184, 146, 85, 0.1);
            text-align: right;
        }

        .card-partner::after {
            content: '';
            position: absolute;
            right: 0;
            top: 20px;
            bottom: 20px;
            width: 4px;
            background: var(--text-gold);
            border-radius: 4px 0 0 4px;
        }

        .card-crystal-ultimate {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(232, 211, 213, 0.3) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 30px 60px -15px rgba(176, 93, 103, 0.2), inset 0 0 30px rgba(255, 255, 255, 0.5);
            border-radius: 24px;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .card-crystal-ultimate::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent);
        }

        .badge-today {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.625rem;
            letter-spacing: 0.1em;
        }

        .rose-countdown-card {
            background: linear-gradient(135deg, #FFF5F5 0%, #FFEAEA 100%);
            border: 1px solid rgba(176, 93, 103, 0.2);
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        body.theme-mist .rose-countdown-card {
            background: linear-gradient(135deg, #F0F7F5 0%, #E6F0EE 100%);
            border-color: rgba(95, 141, 132, 0.2);
        }

        .rose-countdown-card::before {
            content: 'ğŸŒ¹';
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 80px;
            opacity: 0.1;
            transform: rotate(15deg);
        }

        .cta-btn {
            position: relative;
            overflow: visible;
        }

        .cta-btn::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: var(--text-gold);
            opacity: 0;
            transform: scale(1);
            transition: all 0.3s ease;
        }

        .cta-btn.burst::after {
            animation: burst 0.6s ease-out forwards;
        }

        @keyframes burst {
            0% {
                transform: scale(1);
                opacity: 0.5;
            }

            100% {
                transform: scale(2);
                opacity: 0;
            }
        }

        /* æ¨¡æ€æ¡†æ ·å¼ä¿®å¤ */
        .modal-backdrop {
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(40, 35, 35, 0.6);
            backdrop-filter: blur(8px);
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity var(--duration-normal) ease;
        }

        .modal-backdrop.modal-active {
            opacity: 1;
        }

        .modal-content {
            position: relative;
            width: 100%;
            max-width: 380px;
            padding: 1.5rem;
            transform: scale(0.9) translateY(20px);
            transition: transform var(--duration-normal) cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-active .modal-content {
            transform: scale(1) translateY(0);
        }

        .close-btn {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: absolute;
            top: -12px;
            right: 0;
            z-index: 50;
            border: none;
            cursor: pointer;
            transition: transform var(--duration-fast) ease;
        }

        .corner-accent {
            position: absolute;
            width: 24px;
            height: 24px;
            border-color: var(--text-gold);
            z-index: 30;
            opacity: 0.7;
        }

        .tl {
            top: -10px;
            left: -10px;
            border-top: 2px solid;
            border-left: 2px solid;
        }

        .br {
            bottom: -10px;
            right: -10px;
            border-bottom: 2px solid;
            border-right: 2px solid;
        }

        .sound-wave {
            display: flex;
            align-items: center;
            gap: 2px;
            height: 20px;
        }

        .sound-wave span {
            width: 3px;
            background: currentColor;
            border-radius: 2px;
            animation: soundWave 0.5s ease-in-out infinite alternate;
        }

        .sound-wave span:nth-child(1) {
            height: 30%;
            animation-delay: 0s;
        }

        .sound-wave span:nth-child(2) {
            height: 60%;
            animation-delay: 0.1s;
        }

        .sound-wave span:nth-child(3) {
            height: 100%;
            animation-delay: 0.2s;
        }

        .sound-wave span:nth-child(4) {
            height: 60%;
            animation-delay: 0.3s;
        }

        .sound-wave span:nth-child(5) {
            height: 30%;
            animation-delay: 0.4s;
        }

        @keyframes soundWave {
            0% {
                transform: scaleY(0.5);
            }

            100% {
                transform: scaleY(1);
            }
        }

        .film-grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            z-index: 999;
        }

        /* ============ å®½å±å“åº”å¼ä¼˜åŒ– (â‰¥1024px) ============ */
        @media (min-width: 1024px) {

            /* æ”¾å¤§ç…§ç‰‡æ¡†æ¶ */
            .jewelry-frame-inner {
                width: 360px;
                height: 540px;
            }

            /* æ”¾å¤§å¡ç‰‡å­—ä½“å’Œ padding */
            .card-story {
                padding: 3.5rem 3rem;
            }

            .card-story p {
                font-size: 1.1rem;
                line-height: 2;
            }

            .watermark-year {
                font-size: 7rem;
            }

            /* æ”¾å¤§æ•°å­—è®¡æ•°å™¨ */
            #days-counter {
                font-size: 12rem !important;
            }

            /* æ”¾å¤§æ—¶é—´è®¡æ•°å™¨å¡ç‰‡ */
            #hours-counter,
            #minutes-counter {
                font-size: 2.5rem;
            }

            #seconds-counter {
                font-size: 5rem;
            }

            #heartbeat-counter {
                font-size: 1.5rem;
            }

            /* æ”¾å¤§å¼•è¨€å’Œæ ‡é¢˜ */
            .eng-title {
                font-size: 2.2rem;
            }

            .pull-quote-container p {
                font-size: 1.3rem;
            }

            /* æ”¾å¤§ CTA æŒ‰é’® */
            .cta-btn {
                padding: 1.5rem 3rem;
                font-size: 1.1rem;
            }

            /* æ”¾å¤§å€’è®¡æ—¶å¡ç‰‡æ•°å­— */
            #rose-countdown {
                font-size: 5rem;
            }

            /* å¡ç‰‡é—´è·åŠ å¤§ */
            .space-y-16 {
                gap: 5rem;
            }
        }

        /* ============ è¶…å®½å±å“åº”å¼ä¼˜åŒ– (â‰¥1280px) ============ */
        @media (min-width: 1280px) {
            .jewelry-frame-inner {
                width: 400px;
                height: 600px;
            }

            #days-counter {
                font-size: 14rem !important;
            }

            .card-story {
                padding: 4rem 3.5rem;
            }

            .card-story p {
                font-size: 1.2rem;
            }

            .card-crystal-ultimate {
                padding: 4rem 3rem;
            }

            .card-crystal-ultimate h3 {
                font-size: 3rem;
            }
        }

        /* ============ åŸå¸‚åœ°å›¾æ ·å¼ ============ */
        .city-map-section {
            position: relative;
            overflow: hidden;
        }

        .map-container {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(253, 251, 247, 0.9) 100%);
            border-radius: 24px;
            box-shadow: 0 20px 60px -10px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(184, 146, 85, 0.2);
        }

        .map-svg {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.05));
        }

        /* åœ°å›¾åº•å›¾ */
        .map-outline {
            fill: #F5F0EB;
            stroke: var(--primary-color);
            stroke-width: 0.5;
            opacity: 0.4;
            transition: opacity 0.3s ease;
        }

        .map-outline:hover {
            opacity: 0.6;
        }

        /* åŸå¸‚è¿æ¥çº¿ */
        .journey-line {
            fill: none;
            stroke: var(--accent-color);
            stroke-width: 1.5;
            stroke-dasharray: 5, 5;
            opacity: 0.4;
            animation: dashMove 20s linear infinite;
        }

        @keyframes dashMove {
            to {
                stroke-dashoffset: -100;
            }
        }

        /* åŸå¸‚æ ‡ç‚¹ - æ™®é€šåŸå¸‚ */
        .city-dot {
            fill: var(--primary-color);
            stroke: white;
            stroke-width: 2;
            cursor: pointer;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 8px rgba(176, 93, 103, 0.6));
            animation: pulse-dot 2s ease-in-out infinite;
        }

        .city-dot:hover {
            fill: var(--accent-color);
            transform: scale(1.3);
            filter: drop-shadow(0 0 15px rgba(201, 110, 120, 0.9));
        }

        @keyframes pulse-dot {
            0%, 100% {
                r: 8;
                opacity: 1;
            }
            50% {
                r: 9;
                opacity: 0.8;
            }
        }

        /* åŸå¸‚æ ‡ç‚¹ - åŒ—äº¬ï¼ˆå®¶ï¼‰ */
        .city-home {
            fill: var(--text-gold);
            stroke: white;
            stroke-width: 2.5;
            cursor: pointer;
            transition: all 0.3s ease;
            filter: drop-shadow(0 0 12px rgba(139, 105, 20, 0.8));
        }

        .city-home:hover {
            fill: var(--text-gold-light);
            transform: scale(1.2);
            filter: drop-shadow(0 0 20px rgba(166, 124, 82, 1));
        }

        /* å®¶çš„å›¾æ ‡ */
        .home-icon {
            fill: white;
            pointer-events: none;
        }

        /* æ‚¬åœä¿¡æ¯å¡ç‰‡ */
        .city-tooltip {
            position: absolute;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1rem 1.25rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            pointer-events: none;
            z-index: 100;
            min-width: 200px;
            transform: translateY(-10px);
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .city-tooltip.show {
            opacity: 1;
            transform: translateY(0);
        }

        .city-tooltip h4 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .city-tooltip .tooltip-year {
            font-family: 'Quicksand', sans-serif;
            font-size: 0.85rem;
            color: var(--text-gold);
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
        }

        .city-tooltip .tooltip-story {
            font-size: 0.9rem;
            color: var(--ink-grey);
            line-height: 1.6;
            font-style: italic;
        }

        .city-tooltip .tooltip-badge {
            display: inline-block;
            background: var(--light-color);
            color: var(--primary-color);
            padding: 0.25rem 0.75rem;
            border-radius: 999px;
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 0.05em;
            margin-top: 0.5rem;
        }

        /* åœ°å›¾ç»Ÿè®¡ä¿¡æ¯ */
        .map-stats {
            text-align: center;
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            border: 1px solid rgba(184, 146, 85, 0.15);
        }

        .map-stats-item {
            display: inline-block;
            margin: 0 1.5rem;
            font-size: 0.9rem;
            color: var(--ink-grey);
        }

        .map-stats-number {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            display: block;
        }

        /* å“åº”å¼ä¼˜åŒ– */
        @media (max-width: 768px) {
            .map-container {
                padding: 1rem;
            }

            .city-tooltip {
                min-width: 160px;
                padding: 0.75rem 1rem;
            }

            .city-tooltip h4 {
                font-size: 1rem;
            }

            .map-stats-item {
                display: block;
                margin: 0.5rem 0;
            }
        }
    </style>
</head>

<body class="antialiased relative" tabindex="0">
    <div class="scroll-progress" id="scrollProgress"></div>

    <div class="entrance-overlay" id="entranceOverlay" role="region" aria-label="æ¬¢è¿é¡µé¢">
        <img src="ruby_heart_transparent.png" alt="çº¢å®çŸ³çˆ±å¿ƒå›¾æ ‡ï¼Œè±¡å¾16å¹´çš„çˆ±æƒ…" class="entrance-heart-img">
        <p class="entrance-title" id="entranceTitle">ç†Šè€å©†ï¼Œæˆ‘ä»¬å·²ç»èµ°è¿‡ 16 å¹´å•¦ï¼</p>
        <p class="entrance-subtitle" id="entranceSubtitle">æ„Ÿæ©æœ‰ä½  â¤ï¸</p>
        <button class="entrance-btn" id="entranceBtn" aria-describedby="entranceTitle entranceSubtitle">
            <span>å¼€å¯æ—¶å…‰ä¹‹æ—…</span>
        </button>
    </div>

    <div class="film-grain"></div>
    <div class="aurora-blob animate-float" style="top: 5%; left: -10%; width: 300px; height: 300px;"></div>
    <div class="aurora-blob animate-float"
        style="bottom: 15%; right: -10%; width: 250px; height: 250px; animation-delay: -3s;"></div>

    <div id="musicToast" class="music-toast eng-label text-xs text-gray-600">
        <div class="music-toast-icon"></div>
        <span>æ­£åœ¨æ’­æ”¾ï¼šé‡è§ (Piano Ver.) - å­™ç‡•å§¿</span>
    </div>

    <button class="music-toggle" id="musicToggle" aria-label="æ’­æ”¾æˆ–æš‚åœèƒŒæ™¯éŸ³ä¹" aria-pressed="false" role="switch">
        <span class="music-icon-off" aria-hidden="true">
            <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M9 12H4m5 0v4m0-4V8m5 4h6"></path>
            </svg>
        </span>
        <span class="music-icon-on" aria-hidden="true">
            <div class="sound-wave"><span></span><span></span><span></span><span></span><span></span></div>
        </span>
    </button>

    <audio id="bgMusic" loop preload="auto" autoplay playsinline>
        <source src="meet_piano.mp3" type="audio/mpeg">
    </audio>

    <!-- ç¬¬ä¸€å± -->
    <section class="min-h-screen flex flex-col justify-center items-center px-6 relative py-24">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent via-white/40 to-transparent pointer-events-none">
        </div>
        <div class="date-stamp animate-fade-up" style="transition-delay: 0.8s">
            <span class="text-xs text-primary num-font" id="current-date-display"></span>
        </div>

        <div class="text-center z-10 w-full">
            <p class="text-xs tracking-[0.3em] mb-8 text-primary uppercase font-bold eng-label animate-fade-up"
                style="transition-delay: 0.1s">Since 2009.12.10</p>

            <div class="relative inline-block my-4 animate-fade-up" style="transition-delay: 0.2s">
                <h1 id="days-counter"
                    class="text-7xl md:text-9xl rounded-num-font text-primary leading-none drop-shadow-sm animate-pulse-1s">
                    0</h1>
                <div class="absolute -bottom-2 -right-6 text-lg md:text-xl text-gold-enhanced italic eng-title">Days
                </div>
            </div>

            <div class="w-20 h-[1px] bg-primary my-12 mx-auto opacity-40 animate-fade-up"
                style="transition-delay: 0.3s"></div>

            <p class="text-base md:text-lg text-gray-600 max-w-xs mx-auto leading-relaxed font-serif animate-fade-up"
                style="transition-delay: 0.4s">
                "çˆ±æ˜¯åŠ¨è¯ã€‚<br>è¿™æ˜¯æˆ‘ä»¬ç¬¬ <span id="days-inline" class="font-bold text-primary"></span> æ¬¡é€‰æ‹©å½¼æ­¤ã€‚"
            </p>
        </div>

        <div class="absolute bottom-10 animate-breathe text-primary opacity-60">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 14l-7 7m0 0l-7-7m7 7V3">
                </path>
            </svg>
        </div>
    </section>

    <!-- ç¬¬äºŒå± -->
    <section class="py-24 px-6 relative z-10">
        <div class="absolute inset-0 bg-white/40 skew-y-3 z-[-1]"></div>
        <div class="max-w-xl mx-auto space-y-8">
            <div class="text-center mb-12 animate-fade-up">
                <h3 class="text-lg font-bold text-primary tracking-widest eng-label">çˆ±çš„ç‰©ç†åˆ»åº¦</h3>
            </div>
            <div class="grid grid-cols-2 gap-5">
                <div
                    class="bg-white/80 p-6 rounded-lg border border-[var(--light-color)] text-center shadow-sm backdrop-blur-sm animate-fade-up">
                    <div id="hours-counter" class="text-2xl num-font text-gray-800">0</div>
                    <div class="text-[10px] text-gray-400 mt-2 tracking-widest eng-label">Hours</div>
                </div>
                <div
                    class="bg-white/80 p-6 rounded-lg border border-[var(--light-color)] text-center shadow-sm backdrop-blur-sm animate-fade-up">
                    <div id="minutes-counter" class="text-2xl num-font text-gray-800">0</div>
                    <div class="text-[10px] text-gray-400 mt-2 tracking-widest eng-label">Minutes</div>
                </div>
                <div class="col-span-2 crystal-glass p-8 rounded-xl text-center text-primary animate-fade-up">
                    <div id="seconds-counter" class="text-4xl num-font relative z-10 font-bold">0</div>
                    <div class="text-[10px] text-[var(--ink-grey)] mt-3 relative z-10 tracking-widest eng-label">Seconds
                        Counting</div>
                </div>
            </div>
            <div
                class="mt-8 flex items-center justify-center space-x-3 text-primary bg-white p-5 rounded-full shadow-sm border border-[var(--light-color)] animate-fade-up">
                <svg class="w-6 h-6 animate-breathe fill-current" viewBox="0 0 24 24">
                    <path
                        d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                </svg>
                <div class="text-sm text-gray-600">
                    çº¦ <span id="heartbeat-counter"
                        class="num-font font-bold text-primary text-lg heart-beat-num">0</span> æ¬¡å¿ƒè·³å…±æŒ¯
                </div>
            </div>
            <div class="mt-24 jewelry-frame-container group cursor-pointer animate-fade-up w-fit relative mx-auto">
                <div
                    class="absolute inset-0 bg-gradient-to-tr from-[var(--light-color)] to-transparent opacity-30 rounded-full blur-3xl group-hover:opacity-50 transition-opacity">
                </div>
                <div class="jewelry-frame-inner">
                    <img src="p1.jpg" loading="lazy"
                        class="w-full h-full object-cover object-center group-hover:scale-105 transition duration-1000"
                        alt="å¤å¤é£æ ¼ç…§ç‰‡">
                </div>
                <div class="jewelry-frame-glass-overlay"></div>
                <div class="corner-accent tl"></div>
                <div class="corner-accent br"></div>
            </div>
        </div>
    </section>

    <!-- ç¬¬ä¸‰å± -->
    <section class="py-24 px-6 relative overflow-hidden">
        <div class="absolute left-[8%] top-0 bottom-0 w-[1px] bg-primary opacity-10 hidden md:block"></div>
        <h3 class="text-center text-lg font-bold text-primary mb-16 tracking-widest eng-label animate-fade-up">é—ªé—ªå‘å…‰çš„æ—¥å­
        </h3>
        <div class="max-w-2xl mx-auto space-y-16 md:space-y-24">
            <div class="relative animate-fade-up">
                <div class="card-story rounded-tr-[40px]">
                    <div class="watermark-year">09</div>
                    <div class="relative z-10">
                        <div class="flex items-center space-x-3 mb-4">
                            <span class="eng-label text-xs font-bold text-primary border-b border-primary pb-1">DEC
                                10</span>
                            <span class="h-[1px] flex-grow bg-primary opacity-20"></span>
                        </div>
                        <h3 class="eng-title text-3xl text-[var(--ink-grey)] mb-5 italic">The Beginning</h3>
                        <p class="text-sm text-gray-600 leading-relaxed text-justify">
                            <span class="text-2xl float-left mr-2 mt-[-6px] eng-title text-primary">"</span>
                            æˆ‘ä»¬åœ¨å†¬å¤©ç›¸çˆ±ï¼Œ<br>äºæ˜¯è®°å¿†é‡Œä¾¿å…¨æ˜¯æš–è‰²ã€‚<br>è¿™ä¸€å¤©ï¼Œæˆ‘ä»¬å°†"æœ‹å‹"çš„æ ‡ç­¾æ’•ä¸‹ï¼Œéƒ‘é‡åœ°è´´ä¸Šäº†"æ‹äºº"ã€‚
                        </p>
                    </div>
                </div>
            </div>
            <div class="relative animate-fade-up">
                <div class="card-partner rounded-tl-[40px] rounded-br-[40px] ml-auto w-[90%]">
                    <div class="watermark-year" style="right: auto; left: -2rem;">17</div>
                    <div class="relative z-10">
                        <div class="flex items-center space-x-3 mb-4 justify-end">
                            <span class="h-[1px] flex-grow bg-primary opacity-20"></span>
                            <span
                                class="eng-label text-xs font-bold text-gold-enhanced border-b border-[var(--text-gold)] pb-1">DEC
                                16</span>
                        </div>
                        <h3 class="eng-title text-3xl text-[var(--ink-grey)] mb-5 italic">Partners in Crime</h3>
                        <p class="text-sm text-gray-600 leading-relaxed">
                            æ³•å¾‹è§è¯ä¸‹çš„ç›Ÿçº¦ã€‚<br>ä»æ­¤é£é›¨åŒèˆŸï¼Œ<br>åšå½¼æ­¤èº«åæœ€åšå®çš„ç›¾ã€‚
                        </p>
                    </div>
                </div>
            </div>
            <div class="pull-quote-container animate-fade-up">
                <div class="pull-quote-mark">"</div>
                <div class="relative z-10 px-4">
                    <p class="text-[var(--ink-grey)] eng-title italic text-lg leading-loose text-center">
                        æ¯ä¸€å¤©ï¼Œ<br>ä½ çˆ±ä¸Šçš„éƒ½æ˜¯è¿™ä¸ªäººçš„å½“ä¸‹ï¼Œ<br>ä¸æ˜¯ä»–çš„è¿‡å»ï¼Œ<br>ä¹Ÿä¸æ˜¯è¿‡å»çš„ä»–ã€‚<br>
                        <span class="block mt-6 text-primary">æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„çˆ±ä¸Šï¼Œ<br>æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹ã€‚</span>
                    </p>
                    <p class="text-xs text-primary mt-6 text-right eng-label opacity-80">â€”â€” FROM MINNIE</p>
                </div>
            </div>
            <div class="relative animate-fade-up">
                <div class="card-crystal-ultimate">
                    <div class="badge-today eng-label">TODAY</div>
                    <h3 class="eng-label text-4xl text-primary mb-2 tracking-wide">2025</h3>
                    <h4 class="eng-title text-xl text-gold-enhanced italic mb-6">16th Anniversary</h4>
                    <div class="flex justify-center items-center space-x-2 opacity-50 mb-6">
                        <span class="w-1 h-1 rounded-full bg-primary"></span>
                        <span class="w-12 h-[1px] bg-primary"></span>
                        <span class="w-1 h-1 rounded-full bg-primary"></span>
                    </div>
                    <p class="text-sm text-[var(--ink-grey)] font-medium leading-relaxed">
                        é€æ˜ï¼ŒåšéŸ§ï¼Œä¸”çè´µã€‚<br>åå…­å¹´é£é›¨æ‰“ç£¨ï¼Œ<br>ç»ˆæˆä»Šæ—¥å‰”é€æ°´æ™¶ã€‚<br>
                        <span
                            class="text-gold-enhanced opacity-80 mt-2 block text-xs tracking-widest uppercase eng-label">Coria
                            & Minnie</span>
                    </p>
                </div>
            </div>
            <div class="relative animate-fade-up">
                <div class="rose-countdown-card">
                    <p class="text-xs text-primary uppercase tracking-widest eng-label mb-3">Next Station</p>
                    <h4 class="eng-title text-2xl text-[var(--ink-grey)] italic mb-4">Rose Wedding</h4>
                    <div class="flex items-center justify-center space-x-2">
                        <span class="text-4xl num-font text-primary" id="rose-countdown">0</span>
                        <span class="text-sm text-gray-500">days to go</span>
                    </div>
                    <p class="text-xs text-gray-400 mt-4">2026.12.10 Â· ç¬¬17å¹´</p>
                </div>
            </div>
        </div>
    </section>

    <!-- åŸå¸‚åœ°å›¾ -->
    <section class="city-map-section py-24 px-6 relative">
        <div class="absolute inset-0 bg-gradient-to-b from-white/50 via-transparent to-white/50 pointer-events-none"></div>

        <div class="max-w-5xl mx-auto relative z-10">
            <div class="text-center mb-16 animate-fade-up">
                <h3 class="text-lg font-bold text-primary tracking-widest eng-label mb-3">æˆ‘ä»¬çš„è¶³è¿¹åœ°å›¾</h3>
                <p class="text-sm text-gray-500 eng-title italic">Every journey with you is home</p>
            </div>

            <div class="map-container animate-fade-up">
                <!-- SVG ä¸­å›½åœ°å›¾ -->
                <svg class="map-svg" viewBox="0 0 1000 800" xmlns="http://www.w3.org/2000/svg">
                    <!-- ä¸­å›½åœ°å›¾ç®€åŒ–è½®å»“ -->
                    <path class="map-outline" d="M 150,200 Q 180,150 250,140 L 320,130 L 380,160 L 450,140 L 520,150 L 580,130 L 650,140 L 720,160 L 780,180 L 820,220 L 850,280 L 870,340 L 880,400 L 870,460 L 850,520 L 820,560 L 780,590 L 720,610 L 650,620 L 580,610 L 520,580 L 460,560 L 400,540 L 340,520 L 280,490 L 220,450 L 180,400 L 160,340 L 150,280 L 150,220 Z"/>

                    <!-- è¿æ¥çº¿ï¼šåŒ—äº¬ â†’ å¦é—¨ -->
                    <line class="journey-line" x1="550" y1="240" x2="680" y2="480" stroke-linecap="round"/>

                    <!-- åŸå¸‚æ ‡ç‚¹ç»„ -->
                    <g id="cities">
                        <!-- å¦é—¨ - æ™®é€šåŸå¸‚ç‚¹ -->
                        <circle class="city-dot" cx="680" cy="480" r="8"
                                data-city="xiamen"
                                data-name="å¦é—¨"
                                data-year="2025 å¹´ Â· ä¸Šå‘¨"
                                data-story="æµ·é£è½»æ‹‚ï¼Œæ—¥è½å¦‚ç”»"
                                data-badge="æœ€æ–°è¶³è¿¹"
                                aria-label="å¦é—¨"/>

                        <!-- åŒ—äº¬ - å®¶çš„æ ‡è¯† -->
                        <g class="city-home-group" data-city="beijing"
                           data-name="åŒ—äº¬"
                           data-year="å¸¸é©»åŸå¸‚"
                           data-story="æˆ‘ä»¬çš„å®¶ï¼Œæ¸©æš–çš„æ¸¯æ¹¾"
                           data-badge="ğŸ  HOME"
                           aria-label="åŒ—äº¬ - æˆ‘ä»¬çš„å®¶">
                            <circle class="city-home" cx="550" cy="240" r="14"/>
                            <!-- å®¶çš„å›¾æ ‡ -->
                            <path class="home-icon" d="M 550,232 L 543,238 L 543,247 L 557,247 L 557,238 Z M 550,228 L 540,236 L 542,236 L 542,249 L 548,249 L 548,242 L 552,242 L 552,249 L 558,249 L 558,236 L 560,236 Z" />
                        </g>
                    </g>
                </svg>

                <!-- æ‚¬åœæç¤ºå¡ç‰‡ -->
                <div id="cityTooltip" class="city-tooltip">
                    <h4 id="tooltipName"></h4>
                    <div class="tooltip-year" id="tooltipYear"></div>
                    <p class="tooltip-story" id="tooltipStory"></p>
                    <span class="tooltip-badge" id="tooltipBadge"></span>
                </div>
            </div>

            <!-- åœ°å›¾ç»Ÿè®¡ -->
            <div class="map-stats animate-fade-up">
                <div class="map-stats-item">
                    <span class="map-stats-number" id="cityCount">2</span>
                    <span class="eng-label text-xs">Cities Visited</span>
                </div>
                <div class="map-stats-item">
                    <span class="map-stats-number">2025</span>
                    <span class="eng-label text-xs">This Year</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <section class="py-24 px-6 bg-[#262626] text-center relative overflow-hidden">
        <div class="absolute inset-0 bg-black/20 pointer-events-none"></div>
        <div
            class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[var(--primary-color)] to-transparent opacity-50">
        </div>
        <div class="relative z-10">
            <p class="text-[10px] tracking-[0.3em] text-gray-400 mb-8 uppercase eng-label animate-fade-up">Next Station:
                Rose Wedding</p>
            <h2 class="text-2xl text-[var(--bg-paper)] font-light mb-12 leading-relaxed font-serif animate-fade-up">ç¬¬ 17
                å¹´<br>æ˜¯é¦¥éƒçš„<span class="text-primary eng-title italic mx-1">ç«ç‘°å©š</span></h2>
            <button id="actionBtn"
                class="cta-btn group relative px-10 py-5 bg-transparent overflow-visible rounded-full border border-[var(--text-gold-light)] text-[var(--text-gold-light)] transition-all hover:bg-[var(--text-gold)] hover:text-white hover:border-[var(--text-gold)] hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-[var(--text-gold)] focus:ring-offset-2 focus:ring-offset-[#262626] animate-fade-up">
                <span class="relative z-10 font-bold tracking-widest text-sm eng-label">å¼€å¯ç¬¬ 17 å¹´çš„ç«ç‘°ä¹‹æ—… â†’</span>
            </button>
            <p class="mt-20 text-[10px] text-gray-500 num-font opacity-60 animate-fade-up">2009 - 2025 Â© Coria & Minnie
            </p>
        </div>
    </section>

    <!-- æ¨¡æ€æ¡†ï¼šåŠ äº†å†…è” style="display: none;" ç¡®ä¿ç»å¯¹éšè— -->
    <div id="modal" class="modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="modal-title"
        aria-describedby="modal-description" style="display: none;">
        <div class="modal-content" id="modal-content-inner" tabindex="-1" role="document">
            <button id="closeModalBtn" class="close-btn" aria-label="å…³é—­">
                <span class="text-2xl text-gray-600" aria-hidden="true">&times;</span>
            </button>
            <div class="amber-card">
                <div class="aspect-[4/5] bg-gray-100 mb-5 relative overflow-hidden rounded-lg">
                    <!-- è¿™é‡Œæ˜¯å¦é—¨ç…§ç‰‡çš„å ä½ï¼Œä½ æŠŠ src æ¢æˆä½ çš„ç…§ç‰‡å³å¯ -->
                    <img src="p2.jpg" loading="lazy" class="w-full h-full object-cover filter contrast-110 sepia-[.1]"
                        alt="ä¸¤äººç”œèœœåˆç…§">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent pointer-events-none">
                    </div>
                </div>
                <div class="text-center px-2 relative z-10">
                    <h3 id="modal-title" class="text-primary font-bold text-lg mb-2 eng-label">Contract Renewed</h3>
                    <div class="h-[1px] w-12 bg-gray-200 mx-auto my-4"></div>
                    <p id="modal-description" class="text-sm text-[var(--ink-grey)] eng-title leading-loose italic">
                        "åªè¦å’Œä½ åœ¨ä¸€èµ·ï¼Œ<br>æ— æ—¶æ— åˆ»ä¸ä»å®¹ã€‚"
                    </p>
                    <div class="mt-6 p-3 bg-white/50 rounded-lg">
                        <p class="text-xs text-gray-500 flex items-center justify-center gap-2">
                            <span>ğŸŒ¹</span> è·ç¦»ç«ç‘°å©šè¿˜æœ‰ <span class="num-font font-bold text-primary"
                                id="rose-countdown-modal">0</span> å¤©
                        </p>
                    </div>
                    <p class="text-[10px] text-gray-400 mt-6 uppercase tracking-widest eng-label">Authorized by Minnie
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const CONFIG = {
            startDate: new Date('2009-12-10T00:00:00+08:00').getTime(),
            roseWeddingDate: new Date('2026-12-10T00:00:00+08:00').getTime(),
            entranceDelay: 2500,
            numberAnimationDuration: 2000
        };

        // ============ ä¸»é¢˜å¼•æ“ ============
        function checkAnniversaryTheme() {
            const today = new Date();
            const isAnniversary = (today.getMonth() + 1 === 12) && (today.getDate() === 10);
            const forceAnniversary = false; // æ—¥å¸¸æ¨¡å¼è®¾ä¸º false

            if (isAnniversary || forceAnniversary) {
                document.body.classList.add('theme-mist');
                console.log("Theme: Mode A (Mist) Activated");
            } else {
                document.body.classList.remove('theme-mist');
                console.log("Theme: Mode Default (Rose)");
            }
        }

        function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }
        function animateNumber(element, target, duration = CONFIG.numberAnimationDuration, format = true) {
            if (!element) return; // ç©ºå€¼ä¿æŠ¤ï¼Œé˜²æ­¢ DOM å…ƒç´ ä¸å­˜åœ¨æ—¶æŠ¥é”™
            const start = 0; const startTime = performance.now();
            function update(currentTime) {
                const elapsed = currentTime - startTime; const progress = Math.min(elapsed / duration, 1);
                const eased = easeOutCubic(progress); const current = Math.floor(start + (target - start) * eased);
                if (element.id === 'days-counter') element.textContent = current;
                else element.textContent = format ? current.toLocaleString() : current;
                if (progress < 1) requestAnimationFrame(update);
            }
            requestAnimationFrame(update);
        }
        // ç‚¹å‡»è¿›å…¥é€»è¾‘ï¼šç”¨æˆ·ç‚¹å‡»æŒ‰é’®åè§¦å‘éŸ³ä¹å’Œå…¥åœºåŠ¨ç”»
        function handleEntrance() {
            const overlay = document.getElementById('entranceOverlay');
            const entranceBtn = document.getElementById('entranceBtn');

            entranceBtn.addEventListener('click', function () {
                // 1. æ’­æ”¾éŸ³ä¹ï¼ˆç”¨æˆ·ç‚¹å‡»åæµè§ˆå™¨å…è®¸æ’­æ”¾ï¼‰
                startMusic();

                // 2. è§¦å‘æ’’èŠ±åº†ç¥
                triggerConfetti();

                // 3. éšè—å…¥åœºé¡µ
                overlay.classList.add('hidden');

                // 4. è§¦å‘é¡µé¢å…¥åœºåŠ¨ç”»
                document.querySelectorAll('.animate-fade-up').forEach((el, index) => {
                    setTimeout(() => el.classList.add('visible'), index * 100);
                });

                // 5. å¯åŠ¨è®¡æ•°å™¨åŠ¨ç”»
                const now = new Date().getTime();
                const distance = now - CONFIG.startDate;
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                animateNumber(document.getElementById('days-counter'), days, 2000, false);
                document.getElementById('days-inline').textContent = days;

                const roseDays = Math.ceil((CONFIG.roseWeddingDate - now) / (1000 * 60 * 60 * 24));
                animateNumber(document.getElementById('rose-countdown'), roseDays);
                document.getElementById('rose-countdown-modal').textContent = roseDays;
            });
        }
        function updateDateDisplay() {
            const now = new Date();
            const dateString = now.getFullYear() + '.' + String(now.getMonth() + 1).padStart(2, '0') + '.' + String(now.getDate()).padStart(2, '0');
            document.getElementById('current-date-display').textContent = dateString;
        }
        function updateTimer() {
            const now = new Date().getTime();
            const distance = now - CONFIG.startDate;
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            if (document.getElementById('entranceOverlay').classList.contains('hidden')) {
                document.getElementById('days-counter').textContent = days;
                document.getElementById('days-inline').textContent = days;
            }
            document.getElementById('hours-counter').textContent = hours;
            document.getElementById('minutes-counter').textContent = minutes;
            document.getElementById('seconds-counter').textContent = seconds;
            const totalMinutes = BigInt(Math.floor(distance / (1000 * 60)));
            const heartbeats = totalMinutes * 75n; // ä½¿ç”¨ BigInt é¿å…å¤§æ•°ç²¾åº¦é—®é¢˜
            // ç›´æ¥æ˜¾ç¤ºçº¯æ•°å­—,ä¸æ·»åŠ åˆ†éš”ç¬¦
            document.getElementById('heartbeat-counter').textContent = heartbeats.toString();
        }
        function handleScroll() {
            const scrollTop = window.scrollY; const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = docHeight > 0 ? scrollTop / docHeight : 0;
            document.getElementById('scrollProgress').style.transform = `scaleX(${progress})`;
            document.querySelectorAll('.animate-fade-up:not(.visible)').forEach(el => {
                const rect = el.getBoundingClientRect();
                if (rect.top < window.innerHeight * 0.85) el.classList.add('visible');
            });
        }

        // æ¨¡æ€æ¡†é€»è¾‘ä¿®å¤ï¼šæ“ä½œ style å±æ€§
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content-inner');
        const actionBtn = document.getElementById('actionBtn');
        const closeModalBtn = document.getElementById('closeModalBtn');
        let lastFocusedElement = null;

        function openModal() {
            lastFocusedElement = document.activeElement;
            modal.style.display = 'flex'; // JS å¼ºåˆ¶æ˜¾ç¤º
            // ç¨åæ·»åŠ  class è§¦å‘åŠ¨ç”»
            setTimeout(() => {
                modal.classList.add('modal-active');
            }, 10);
            document.body.style.overflow = 'hidden';
            setTimeout(() => closeModalBtn.focus(), 100);
        }

        function closeModal() {
            modal.classList.remove('modal-active');
            document.body.style.overflow = '';
            // ç­‰åŠ¨ç”»ç»“æŸå†éšè—
            setTimeout(() => {
                modal.style.display = 'none'; // JS å¼ºåˆ¶éšè—
            }, 300);
            if (lastFocusedElement) lastFocusedElement.focus();
        }

        function triggerConfetti() {
            const duration = 3000; const animationEnd = Date.now() + duration;
            const isMist = document.body.classList.contains('theme-mist');
            const colors = isMist ? ['#5F8D84', '#7DAEA5', '#ffffff', '#8B6914'] : ['#B05D67', '#C5A065', '#ffffff', '#E8D3D5'];
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 2000, colors: colors };
            function randomInRange(min, max) { return Math.random() * (max - min) + min; }
            const interval = setInterval(function () {
                const timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                const particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }
        actionBtn.addEventListener('click', function () { this.classList.add('burst'); setTimeout(() => this.classList.remove('burst'), 600); triggerConfetti(); openModal(); });
        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('mousedown', function (e) { if (e.target === modal) closeModal(); }); // ä½¿ç”¨ mousedown é¿å…æ‹–æ‹½æ—¶è¯¯å…³é—­ 
        document.addEventListener('keydown', function (e) { if (e.key === 'Escape' && modal.classList.contains('modal-active')) closeModal(); });

        const musicToggle = document.getElementById('musicToggle'); const bgMusic = document.getElementById('bgMusic'); const musicToast = document.getElementById('musicToast');
        let isPlaying = false; let toastTimer; let autoplayAttempts = 0; let autoplayLocked = false;
        function showMusicToast() {
            clearTimeout(toastTimer); musicToast.classList.add('show'); toastTimer = setTimeout(() => musicToast.classList.remove('show'), 4000);
        }
        function startMusic(isAuto = false) {
            if (isAuto && autoplayLocked) return;
            bgMusic.volume = 0.35; bgMusic.loop = true; bgMusic.autoplay = true;
            bgMusic.play().then(() => { if (isAuto) { autoplayLocked = true; autoplayAttempts = 0; } }).catch(e => {
                if (isAuto && autoplayAttempts < 3) { autoplayAttempts += 1; setTimeout(() => startMusic(true), 800); }
                console.log('Autoplay prevented:', e);
            });
        }
        function autoPlayWithRetry() { autoplayAttempts = 0; startMusic(true); }
        bgMusic.addEventListener('play', function () {
            isPlaying = true; musicToggle.classList.add('playing'); musicToggle.setAttribute('aria-pressed', 'true'); showMusicToast();
        });
        bgMusic.addEventListener('pause', function () {
            isPlaying = false; musicToggle.classList.remove('playing'); musicToggle.setAttribute('aria-pressed', 'false'); musicToast.classList.remove('show'); clearTimeout(toastTimer);
        });
        musicToggle.addEventListener('click', function () {
            if (bgMusic.paused) { startMusic(); }
            else { bgMusic.pause(); autoplayLocked = true; }
        });

        // ============ åŸå¸‚åœ°å›¾äº¤äº’ ============
        function initCityMap() {
            const tooltip = document.getElementById('cityTooltip');
            const mapContainer = document.querySelector('.map-container');

            if (!tooltip || !mapContainer) return;

            // è·å–æ‰€æœ‰åŸå¸‚æ ‡ç‚¹ï¼ˆåŒ…æ‹¬æ™®é€šç‚¹å’ŒåŒ—äº¬çš„ç»„ï¼‰
            const cityDots = document.querySelectorAll('.city-dot');
            const cityHomeGroup = document.querySelector('.city-home-group');

            // æ˜¾ç¤ºæç¤ºå¡ç‰‡
            function showCityTooltip(element, event) {
                const name = element.getAttribute('data-name');
                const year = element.getAttribute('data-year');
                const story = element.getAttribute('data-story');
                const badge = element.getAttribute('data-badge');

                document.getElementById('tooltipName').textContent = name;
                document.getElementById('tooltipYear').textContent = year;
                document.getElementById('tooltipStory').textContent = story;
                document.getElementById('tooltipBadge').textContent = badge;

                // è®¡ç®—å¡ç‰‡ä½ç½®
                const mapRect = mapContainer.getBoundingClientRect();
                const x = event.clientX - mapRect.left;
                const y = event.clientY - mapRect.top;

                // ç¡®ä¿å¡ç‰‡ä¸è¶…å‡ºè¾¹ç•Œ
                let left = x + 15;
                let top = y - 80;

                if (left + 220 > mapRect.width) {
                    left = x - 235;
                }
                if (top < 0) {
                    top = y + 15;
                }

                tooltip.style.left = left + 'px';
                tooltip.style.top = top + 'px';
                tooltip.classList.add('show');
            }

            // éšè—æç¤ºå¡ç‰‡
            function hideCityTooltip() {
                tooltip.classList.remove('show');
            }

            // ç»‘å®šæ™®é€šåŸå¸‚ç‚¹äº‹ä»¶
            cityDots.forEach(dot => {
                dot.addEventListener('mouseenter', function(e) {
                    showCityTooltip(this, e);
                });

                dot.addEventListener('mousemove', function(e) {
                    const mapRect = mapContainer.getBoundingClientRect();
                    const x = e.clientX - mapRect.left;
                    const y = e.clientY - mapRect.top;

                    let left = x + 15;
                    let top = y - 80;

                    if (left + 220 > mapRect.width) {
                        left = x - 235;
                    }
                    if (top < 0) {
                        top = y + 15;
                    }

                    tooltip.style.left = left + 'px';
                    tooltip.style.top = top + 'px';
                });

                dot.addEventListener('mouseleave', hideCityTooltip);

                // ç§»åŠ¨ç«¯æ”¯æŒ
                dot.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    showCityTooltip(this, e.touches[0]);
                    setTimeout(hideCityTooltip, 3000);
                });
            });

            // ç»‘å®šåŒ—äº¬ï¼ˆå®¶ï¼‰çš„äº‹ä»¶
            if (cityHomeGroup) {
                cityHomeGroup.addEventListener('mouseenter', function(e) {
                    showCityTooltip(this, e);
                });

                cityHomeGroup.addEventListener('mousemove', function(e) {
                    const mapRect = mapContainer.getBoundingClientRect();
                    const x = e.clientX - mapRect.left;
                    const y = e.clientY - mapRect.top;

                    let left = x + 15;
                    let top = y - 80;

                    if (left + 220 > mapRect.width) {
                        left = x - 235;
                    }
                    if (top < 0) {
                        top = y + 15;
                    }

                    tooltip.style.left = left + 'px';
                    tooltip.style.top = top + 'px';
                });

                cityHomeGroup.addEventListener('mouseleave', hideCityTooltip);

                // ç§»åŠ¨ç«¯æ”¯æŒ
                cityHomeGroup.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    showCityTooltip(this, e.touches[0]);
                    setTimeout(hideCityTooltip, 3000);
                });
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            checkAnniversaryTheme();
            updateDateDisplay();
            handleEntrance(); // ç»‘å®šå…¥åœºæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            setInterval(updateTimer, 1000);
            updateTimer();
            initCityMap(); // åˆå§‹åŒ–åŸå¸‚åœ°å›¾
            // ç§»é™¤è‡ªåŠ¨æ’­æ”¾å°è¯•ï¼Œæ”¹ä¸ºç”¨æˆ·ç‚¹å‡»åæ’­æ”¾
            let scrollTimeout;
            window.addEventListener('scroll', function () {
                if (!scrollTimeout) {
                    scrollTimeout = setTimeout(function () { handleScroll(); scrollTimeout = null; }, 16);
                }
            }, { passive: true });
            handleScroll();
        });
        // ç§»é™¤ window.load å’Œ visibilitychange çš„è‡ªåŠ¨æ’­æ”¾é€»è¾‘

        let lastTap = 0; document.addEventListener('touchend', function (e) {
            const currentTime = new Date().getTime(); const tapLength = currentTime - lastTap;
            const isMist = document.body.classList.contains('theme-mist');
            const colors = isMist ? ['#5F8D84', '#7DAEA5', '#ffffff'] : ['#B05D67', '#C5A065', '#ffffff'];
            if (tapLength < 300 && tapLength > 0) { confetti({ particleCount: 30, spread: 60, origin: { x: e.changedTouches[0].clientX / window.innerWidth, y: e.changedTouches[0].clientY / window.innerHeight }, colors: colors }); }
            lastTap = currentTime;
        });
        document.addEventListener('dblclick', function (e) {
            if (e.target.closest('button') || e.target.closest('a')) return;
            const isMist = document.body.classList.contains('theme-mist');
            const colors = isMist ? ['#5F8D84', '#7DAEA5', '#ffffff'] : ['#B05D67', '#C5A065', '#ffffff'];
            confetti({ particleCount: 30, spread: 60, origin: { x: e.clientX / window.innerWidth, y: e.clientY / window.innerHeight }, colors: colors });
        });
    </script>
</body>

</html>